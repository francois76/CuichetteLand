{# src/CuichetteLand/websiteBundle/Resources/views/Deault/form.html.twig #}


{% extends 'CuichetteLand:websiteBundle:Default:index.html.twig' %}

{% block body %}
<form class="form-signin" action="{{ path('jb_registrationValidate') }}" method="post">
      <h2 class="form-signin-heading">Inscription</h2>
      <label for="lastname" class="sr-only">Nom</label>
      <input type="text" name="lastname" class="form-control form1" placeholder="Nom" required autofocus>
      <label for="firstname" class="sr-only">Prénom</label>
      <input type="text" name="firstname" class="form-control form2" placeholder="Prénom" required autofocus>
      <label for="email" class="sr-only">Adresse Email</label>
      <input type="email" name="email" class="form-control form2" placeholder="Adresse Email" required autofocus>
      <label for="password" class="sr-only">Mot de passe</label>
      <input type="password" name="password" class="form-control form2" placeholder="Mot de passe" required>
      <label for="passwordverif" class="sr-only">Confirmer le mot de passe</label>
      <input type="password" name="passwordverif" class="form-control form3" placeholder="Confirmer le mot de passe" required>
      {% if email is defined %}
      <div class="alert alert-danger">Cette adresse email est déjà associée à un compte</div>
      {% endif %}
      <button id="btnIscription" class="btn btn-lg btn-primary btn-block" type="submit">S'inscrire</button>
      <div id="test" hidden>
        * Validation du mot de passe incorrecte
      </div>
</form>


<style media="screen">
.form1{
  margin-bottom: -1px;
  border-bottom-right-radius: 0;
  border-bottom-left-radius: 0;
}
.form2{
  margin-bottom: -1px;
  border-bottom-right-radius: 0;
  border-bottom-left-radius: 0;
  border-top-right-radius: 0;
  border-top-left-radius: 0;
}
.form3{
   margin-bottom: 10px;
   border-top-left-radius: 0;
   border-top-right-radius: 0;
}
</style>


<script type="text/javascript">
document.getElementByName('passwordverif').onchange = function() {

  password = document.getElementByName('password').value;
  passwordverif = document.getElementByName('passwordverif').value;

  if (password.localeCompare(passwordverif) == 0) {
    document.getElementByName('btnIscription').disabled = false;
    document.getElementByName('test').hidden = true;
  }
  else {
    document.getElementByName('btnIscription').disabled = true;
    document.getElementByName('test').hidden = false;
  }
}
</script>

{% endblock %}
